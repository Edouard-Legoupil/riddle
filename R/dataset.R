# WARNING - Generated by {fusen} from /dev/ridlle_dev.Rmd: do not edit by hand

#' Work with RIDL datasets (datasets)
#'
#' @name dataset
#' @details You must have the necessary permissions to create, edit, or delete datasets.
#'
#' Note that several fields are required for `dataset_create()` and `dataset_update()` operations to succeed. Consult \code{\link{dataset_metadata()}} for the details.
#'
#' For `dataset_update()`/`dataset_patch()` operations, it is recommended to call `dataset_show()`, make the desired changes to the result, and then call `dataset_update()`/`dataset_patch()` with it.
#'
#' The difference between the update and patch methods is that the patch will perform an update of the provided parameters, while leaving all other parameters unchanged, whereas the update methods deletes all parameters not explicitly provided in the `metadata`.
#'
#' @param metadata Metadata created by \code{\link{dataset_metadata()}}.
#' @param id The id or name of the dataset.
#'
#' @return The dataset.
#' @export
#' @examples
#' #dataset()
#' library(riddle)
#' Sys.setenv(USE_UAT=1)
#' m <- dataset_metadata(title = "Motor Trend Car Road Tests",
#'                       name = "mtcars",
#'                       notes = "The data was extracted from the 1974 Motor Trend 
#'                       US magazine, and comprises fuel consumption and 10 aspects
#'                       of automobile design and performance for 32 automobiles 
#'                       (1973â€“74 models).",
#'                       owner_org = "exercise-container",
#'                       visibility = "public",
#'                       external_access_level = "open_access",
#'                       data_collector = "Motor Trend",
#'                       keywords = keywords[c("Environment", "Other")],
#'                       unit_of_measurement = "car",
#'                       data_collection_technique = "oth",
#'                       archived = "False")
#' 
#' p <- dataset_create(m)
#' # The return value is a representation of the dataset we just created in
#' # RIDL that you could inspect like any other R object.
#' p
#' 
dataset_create <- function(metadata) { ridl("dataset_create", !!!metadata) %>% dataset_tibblify() }

#' @rdname dataset
#' @export
dataset_show <- function(id) { ridl("dataset_show", id = id) %>% dataset_tibblify() }

#' @rdname dataset
#' @export
dataset_update <- function(id, metadata) { ridl("dataset_update", id = id, !!!metadata) %>% dataset_tibblify() }

#' @rdname dataset
#' @export
dataset_patch <- function(id, metadata) { ridl("dataset_patch", id = id, !!!metadata) %>% dataset_tibblify() }

#' @rdname dataset
#' @export
dataset_delete <- function(id) { ridl("dataset_delete", id = id) }
