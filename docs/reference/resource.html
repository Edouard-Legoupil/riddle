<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Work with RIDL resources (files)"><title>Work with RIDL resources (files) — resource • riddle</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Lato-0.4.2/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Work with RIDL resources (files) — resource"><meta property="og:description" content="Work with RIDL resources (files)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">riddle</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/package-functions.html">Package Functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/galalH/riddle/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Work with RIDL resources (files)</h1>
      <small class="dont-index">Source: <a href="https://github.com/galalH/riddle/blob/HEAD/R/resource.R" class="external-link"><code>R/resource.R</code></a></small>
      <div class="d-none name"><code>resource.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Work with RIDL resources (files)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">resource_create</span><span class="op">(</span><span class="va">pkgid</span>, <span class="va">metadata</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">resource_update</span><span class="op">(</span><span class="va">id</span>, <span class="va">metadata</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">resource_patch</span><span class="op">(</span><span class="va">id</span>, <span class="va">metadata</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">resource_delete</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>pkgid</dt>
<dd><p>The id or name of the dataset to which this resource belongs to.</p></dd>


<dt>metadata</dt>
<dd><p>Metadata created by <code><a href="resource_metadata.html">resource_metadata()</a></code>.</p></dd>


<dt>id</dt>
<dd><p>The id or name of the resource.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The resource.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>You must have the necessary permissions to create, edit, or delete datasets and their resources.</p>
<p>Note that several fields are required for <code>resource_create()</code> and <code>resource_update()</code> operations to succeed. Consult <code><a href="resource_metadata.html">resource_metadata()</a></code> for the details.</p>
<p>For <code>resource_update()</code>/<code>resource_patch()</code> operations, it is recommended to call <code>resource_show()</code>, make the desired changes to the result, and then call <code>resource_update()</code>/<code>resource_patch()</code> with it.</p>
<p>The difference between the update and patch methods is that the patch will perform an update of the provided parameters, while leaving all other parameters unchanged, whereas the update methods deletes all parameters not explicitly provided in the <code>metadata</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://galalH.github.io/riddle/" class="external-link">riddle</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>USE_UAT<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata.html">dataset_metadata</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Motor Trend Car Road Tests"</span>,</span></span>
<span class="r-in"><span>                      name <span class="op">=</span> <span class="st">"mtcars"</span>,</span></span>
<span class="r-in"><span>                      notes <span class="op">=</span> <span class="st">"The data was extracted from the 1974 Motor Trend </span></span></span>
<span class="r-in"><span><span class="st">                      US magazine, and comprises fuel consumption and 10 aspects</span></span></span>
<span class="r-in"><span><span class="st">                      of automobile design and performance for 32 automobiles </span></span></span>
<span class="r-in"><span><span class="st">                      (1973–74 models)."</span>,</span></span>
<span class="r-in"><span>                      owner_org <span class="op">=</span> <span class="st">"exercise-container"</span>,</span></span>
<span class="r-in"><span>                      visibility <span class="op">=</span> <span class="st">"public"</span>,</span></span>
<span class="r-in"><span>                      external_access_level <span class="op">=</span> <span class="st">"open_access"</span>,</span></span>
<span class="r-in"><span>                      data_collector <span class="op">=</span> <span class="st">"Motor Trend"</span>,</span></span>
<span class="r-in"><span>                      keywords <span class="op">=</span> <span class="va">keywords</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Environment"</span>, <span class="st">"Other"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                      unit_of_measurement <span class="op">=</span> <span class="st">"car"</span>,</span></span>
<span class="r-in"><span>                      data_collection_technique <span class="op">=</span> <span class="st">"oth"</span>,</span></span>
<span class="r-in"><span>                      archived <span class="op">=</span> <span class="st">"False"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset.html">dataset_create</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in r$success:</span> $ operator is invalid for atomic vectors</span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="resource_metadata.html">resource_metadata</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"data"</span>,</span></span>
<span class="r-in"><span>                       url <span class="op">=</span> <span class="st">"mtcars.csv"</span>,</span></span>
<span class="r-in"><span>                       name <span class="op">=</span> <span class="st">"mtcars.csv"</span>,</span></span>
<span class="r-in"><span>                       format <span class="op">=</span> <span class="st">"csv"</span>,</span></span>
<span class="r-in"><span>                       file_type <span class="op">=</span> <span class="st">"microdata"</span>,</span></span>
<span class="r-in"><span>                       date_range_start <span class="op">=</span> <span class="st">"1973-01-01"</span>,</span></span>
<span class="r-in"><span>                       date_range_end <span class="op">=</span> <span class="st">"1973-12-31"</span>,</span></span>
<span class="r-in"><span>                       version <span class="op">=</span> <span class="st">"1"</span>,</span></span>
<span class="r-in"><span>                       process_status <span class="op">=</span> <span class="st">"raw"</span>,</span></span>
<span class="r-in"><span>                       identifiability <span class="op">=</span> <span class="st">"anonymized_public"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">resource_create</span><span class="op">(</span><span class="va">p</span><span class="op">$</span><span class="va">id</span>, <span class="va">m</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in rlang::list2(...):</span> object 'p' not found</span>
<span class="r-in"><span><span class="co"># Like before, the return value is a tibble representation of the</span></span></span>
<span class="r-in"><span><span class="co"># resource.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">r</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'r' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># But so far we’ve only created the metadata for the resource. The next</span></span></span>
<span class="r-in"><span><span class="co"># step is to upload the data.</span></span></span>
<span class="r-in"><span><span class="fu">resource_upload</span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">id</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/mtcars.csv"</span>, package <span class="op">=</span> <span class="st">"readr"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in resource_upload(r$id, path = system.file("extdata/mtcars.csv",     package = "readr")):</span> could not find function "resource_upload"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="search.html">resource_search</a></span><span class="op">(</span><span class="st">"name:mtcars"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 23 × 31</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id           packa…¹ url   format descr…² hash  posit…³ name  resou…⁴ mimet…⁵</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 3acdcd5a-4f… eb71cf… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      applic…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> c70cdca6-83… 017591… http… CSV    <span style="color: #949494;">""</span>      <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      applic…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> a8c562fb-35… 5f01ae… http… TXT    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      text/p…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> aa464ce4-0d… 07b30a… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 6f698bbe-77… 005277… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      applic…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 071b3fce-df… 08ffbb… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      applic…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> debc8207-ad… ac166d… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      applic…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> ea4aadda-13… 72de44… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      applic…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 63f1bdc6-b7… aa6eaa… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          0 mtca… <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 689cbcac-2c… eb71cf… http… CSV    <span style="color: #949494;">"</span>Some … <span style="color: #949494;">""</span>          1 mtca… <span style="color: #BB0000;">NA</span>      applic…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 13 more rows, 21 more variables: mimetype_inner &lt;lgl&gt;, size &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   created &lt;chr&gt;, last_modified &lt;chr&gt;, metadata_modified &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   cache_url &lt;lgl&gt;, cache_last_updated &lt;lgl&gt;, url_type &lt;chr&gt;, state &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   type &lt;chr&gt;, version &lt;chr&gt;, `hxl-ated` &lt;chr&gt;, file_type &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   visibility &lt;chr&gt;, date_range_end &lt;chr&gt;, file_to_upload &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   process_status &lt;chr&gt;, identifiability &lt;chr&gt;, datastore_active &lt;lgl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   date_range_start &lt;chr&gt;, title &lt;chr&gt;, and abbreviated variable names …</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Hisham Galal.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

